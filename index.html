<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elian Maths | PCSI Prestige Int√©gral</title>
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            options: {
                enableMenu: false
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* Ajout de styles critiques pour assurer la coh√©rence si style.css est lent */
        :root {
            --royal-blue: #2c5282;
            --navy: #1a365d;
            --text-muted: #718096;
        }
        body { font-family: 'Inter', sans-serif; margin: 0; background: #f8fafc; }
        #sidebar { transition: all 0.3s ease; }
        .submenu { display: none; overflow: hidden; background: #edf2f7; }
        .submenu.open { display: block; }
        #main { margin-left: 280px; padding: 40px; transition: 0.3s; }
        @media (max-width: 900px) { #main { margin-left: 0; } }
    </style>
</head>
<body>

<div id="sidebar">
    <div class="logo-container">
        <div class="logo-icon"><i class="fas fa-functions"></i></div>
        <div class="logo-text">ELIAN<span>MATHS</span></div>
        <p style="font-size: 0.65rem; color: var(--text-muted); margin-top: 5px; font-weight: 600;">MATH√âMATIQUES PCSI</p>
    </div>

    <div class="semester-title">PREMIER SEMESTRE</div>
    
    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-vial"></i> Raisonnement & Ensembles</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('raisonnement_cours')">Cours & Notions</a>
            <a onclick="load('raisonnement_exos')">Exercices Corrig√©s</a>
            <a onclick="load('raisonnement_eleve')">üéØ Zone √âl√®ve</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-atom"></i> Complexes & Trigonom√©trie</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('complexes_cours')">Cours & Trigonom√©trie</a>
            <a onclick="load('complexes_exos')">Exercices Corrig√©s</a>
            <a onclick="load('complexes_eleve')">üéØ Zone √âl√®ve</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-plus-square"></i> Calculs Alg√©briques</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('calcul_algebre_cours')">Sommes & Produits</a>
            <a onclick="load('calcul_algebre_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-microscope"></i> Techniques en Analyse</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('tech_analyse_cours')">Cours Analyse</a>
            <a onclick="load('tech_analyse_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-infinity"></i> R√©els & Suites</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('suites_cours')">Cours : Suites Num√©riques</a>
            <a onclick="load('suites_exos')">Exercices Corrig√©s</a>
            <a onclick="load('suites_eleve')">üéØ Zone √âl√®ve</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-wave-square"></i> Limites & Continuit√©</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('limites_cours')">Limites & D√©rivabilit√©</a>
            <a onclick="load('limites_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-long-arrow-alt-right"></i> Analyse Asymptotique</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('asymptote_cours')">Cours : DL & √âquivalents</a>
            <a onclick="load('asymptote_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-border-all"></i> Syst√®mes & Matrices</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('systemes_cours')">Syst√®mes Lin√©aires</a>
            <a onclick="load('calcul_mat_cours')">Calcul Matriciel (S1)</a>
            <a onclick="load('matrices_s1_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-list-ol"></i> Entiers & D√©nombrement</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('denombrement_cours')">Cours D√©nombrement</a>
            <a onclick="load('denombrement_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-draw-polygon"></i> G√©om√©trie Analytique</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('geometrie_cours')">Plan & Espace</a>
            <a onclick="load('geometrie_exos')">Exercices Corrig√©s</a>
        </div>
    </div>

    <div class="semester-title">DEUXI√àME SEMESTRE</div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-superscript"></i> Polyn√¥mes</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('poly_cours')">Cours complet</a>
            <a onclick="load('poly_exos')">Exercices Corrig√©s</a>
            <a onclick="load('poly_training')">üéØ Zone √âl√®ve</a>
        </div>
    </div>

    <div class="chapter">
        <button class="chapter-btn" onclick="toggleMenu(this)">
            <span><i class="fas fa-project-diagram"></i> Espaces Vectoriels</span> <i class="fas fa-chevron-down chevron"></i>
        </button>
        <div class="submenu">
            <a onclick="load('ev_cours')">Cours : AL & EV</a>
            <a onclick="load('ev_exos')">Exercices Corrig√©s</a>
            <a onclick="load('ev_eleve')">üéØ Zone √âl√®ve</a>
        </div>
    </div>

    </div>

<div id="main">
    <div id="content-container">
        <div class="banner">
            <h1>Plateforme PCSI Prestige</h1>
            <p>Bienvenue Elian. S√©lectionnez un module pour commencer.</p>
        </div>
        <div class="tcb-box">
            <div class="tcb-title">Statut du Syst√®me</div>
            <div class="tcb-content">
                <p>Tous les modules sont pr√™ts √† √™tre charg√©s.</p>
                <br>
                <p><b>Conseil :</b> Pour les exercices longs, les corrig√©s sont masqu√©s par d√©faut pour favoriser la recherche personnelle.</p>
            </div>
        </div>
    </div>
</div>

<script>
    // 1. GESTION DE L'ACCORD√âON
    function toggleMenu(btn) {
        const submenu = btn.nextElementSibling;
        const isOpen = submenu.classList.contains('open');

        // Ferme tous les autres menus
        document.querySelectorAll('.submenu').forEach(sub => sub.classList.remove('open'));
        document.querySelectorAll('.chapter-btn').forEach(b => b.classList.remove('active'));

        // Ouvre le menu cliqu√© s'il n'√©tait pas d√©j√† ouvert
        if (!isOpen) {
            submenu.classList.add('open');
            btn.classList.add('active');
        }
    }

    // 2. CHARGEMENT DYNAMIQUE (Version Am√©lior√©e pour Scripts)
    async function load(file) {
        const container = document.getElementById('content-container');
        container.style.opacity = '0.3';

        try {
            const response = await fetch(`content/${file}.html`);
            if (!response.ok) throw new Error("Fichier introuvable");
            
            const html = await response.text();
            
            // On injecte le contenu
            container.innerHTML = html;

            // --- CORRECTION CRITIQUE : EXECUTION DES SCRIPTS ---
            // On r√©cup√®re toutes les balises scripts inject√©es
            const scripts = container.querySelectorAll("script");
            scripts.forEach(oldScript => {
                const newScript = document.createElement("script");
                Array.from(oldScript.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value));
                newScript.appendChild(document.createTextNode(oldScript.innerHTML));
                oldScript.parentNode.replaceChild(newScript, oldScript);
            });

            // Relancer MathJax
            if (window.MathJax && window.MathJax.typesetPromise) {
                window.MathJax.typesetPromise([container]).catch((err) => console.log(err.message));
            }

            container.style.opacity = '1';
            window.scrollTo({ top: 0, behavior: 'smooth' });

        } catch (err) {
            container.style.opacity = '1';
            container.innerHTML = `
                <div class="banner" style="background:var(--navy)">
                    <h1>Module en construction</h1>
                    <p>Le fichier <b>content/${file}.html</b> n'a pas encore √©t√© cr√©√© ou est inaccessible.</p>
                </div>`;
            console.error(err);
        }
    }

    // 3. GESTION DES BOITES DE CORRIG√âS
    function toggleBox(id) {
        const box = document.getElementById(id);
        if (!box) return;

        if (box.style.display === "block") {
            box.style.display = "none";
        } else {
            box.style.display = "block";
            if (window.MathJax) MathJax.typesetPromise([box]);
        }
    }
</script>

</body>
</html>
