<div class="banner">
    <h1><i class="fas fa-bullseye"></i> Zone d'Entra√Ænement : Expertise Polyn√¥mes</h1>
    <p>Test de progression : 20 questions de difficult√© croissante (Niveau Concours)</p>
</div>

<div class="tcb-box">
    <div class="tcb-title"><i class="fas fa-user-grad"></i> Identification de l'√âtudiant</div>
    <div class="tcb-content">
        <input type="text" id="nom_eleve" placeholder="Entrez votre nom pour le score final..." style="width:100%; padding:15px; border:2px solid var(--royal-blue); border-radius:8px; font-size:1.1em;">
    </div>
</div>

<form id="quizForm">
    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q1.</b> Quel est le degr√© exact du polyn√¥me nul $\mathbb{0}$ dans la convention standard ?</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q1" value="0"> 0</label>
                <label class="option-label"><input type="radio" name="q1" value="0"> 1</label>
                <label class="option-label"><input type="radio" name="q1" value="correct"> $-\infty$</label>
                <label class="option-label"><input type="radio" name="q1" value="0"> $+\infty$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q1')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q2.</b> Si $a$ est une racine de $P$, quelle est l'assertion √©quivalente ?</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q2" value="0"> $P$ est constant</label>
                <label class="option-label"><input type="radio" name="q2" value="correct"> $(X-a)$ divise $P$</label>
                <label class="option-label"><input type="radio" name="q2" value="0"> $P'$ s'annule en $a$</label>
                <label class="option-label"><input type="radio" name="q2" value="0"> $\deg(P) = 1$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q2')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q3.</b> Un polyn√¥me de degr√© $n$ poss√®de au plus combien de racines dans un corps $\mathbb{K}$ ?</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q3" value="0"> $n-1$</label>
                <label class="option-label"><input type="radio" name="q3" value="correct"> $n$</label>
                <label class="option-label"><input type="radio" name="q3" value="0"> $n+1$</label>
                <label class="option-label"><input type="radio" name="q3" value="0"> Infinit√©</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q3')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q4.</b> Quels sont les polyn√¥mes irr√©ductibles dans $\mathbb{R}[X]$ ?</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q4" value="0"> Degr√© 1 uniquement</label>
                <label class="option-label"><input type="radio" name="q4" value="correct"> Degr√© 1 et Degr√© 2 avec $\Delta < 0$</label>
                <label class="option-label"><input type="radio" name="q4" value="0"> Degr√© impair uniquement</label>
                <label class="option-label"><input type="radio" name="q4" value="0"> Tous les polyn√¥mes unitaires</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q4')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q5.</b> Si $P(a)=P'(a)=0$ et $P''(a) \neq 0$, alors $a$ est racine de multiplicit√© :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q5" value="0"> 1</label>
                <label class="option-label"><input type="radio" name="q5" value="correct"> 2</label>
                <label class="option-label"><input type="radio" name="q5" value="0"> 3</label>
                <label class="option-label"><input type="radio" name="q5" value="0"> 0</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q5')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    
    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q6.</b> La formule de Taylor pour un polyn√¥me $P$ de degr√© $n$ s'√©crit :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q6" value="correct"> $P(X+a) = \sum_{k=0}^n \frac{P^{(k)}(a)}{k!} X^k$</label>
                <label class="option-label"><input type="radio" name="q6" value="0"> $P(X+a) = \sum_{k=0}^n P^{(k)}(a) X^k$</label>
                <label class="option-label"><input type="radio" name="q6" value="0"> $P(X) = (X-a)P'(a)$</label>
                <label class="option-label"><input type="radio" name="q6" value="0"> $P(a) = \sum a_k X^k$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q6')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q7.</b> Dans $X^n + a_{n-1}X^{n-1} + \dots + a_0$, la somme des racines vaut :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q7" value="0"> $a_{n-1}$</label>
                <label class="option-label"><input type="radio" name="q7" value="correct"> $-a_{n-1}$</label>
                <label class="option-label"><input type="radio" name="q7" value="0"> $(-1)^n a_0$</label>
                <label class="option-label"><input type="radio" name="q7" value="0"> $a_0$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q7')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q8.</b> Le produit des racines d'un polyn√¥me unitaire de degr√© $n$ est :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q8" value="0"> $a_0$</label>
                <label class="option-label"><input type="radio" name="q8" value="correct"> $(-1)^n a_0$</label>
                <label class="option-label"><input type="radio" name="q8" value="0"> $(-1)^{n-1} a_{n-1}$</label>
                <label class="option-label"><input type="radio" name="q8" value="0"> $\prod a_k$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q8')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q9.</b> Le reste de la division euclidienne de $P$ par $(X-a)(X-b)$ (avec $a \neq b$) est :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q9" value="correct"> $\frac{P(a)-P(b)}{a-b}X + \frac{aP(b)-bP(a)}{a-b}$</label>
                <label class="option-label"><input type="radio" name="q9" value="0"> $P(a) + P(b)$</label>
                <label class="option-label"><input type="radio" name="q9" value="0"> $P(a)X + P(b)$</label>
                <label class="option-label"><input type="radio" name="q9" value="0"> $0$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q9')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q10.</b> Un polyn√¥me de $\mathbb{R}[X]$ de degr√© 4 a pour racines $i$ et $1+i$. Les autres racines sont :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q10" value="0"> $-i$ et $1-i$</label>
                <label class="option-label"><input type="radio" name="q10" value="correct"> $-i$ et $1-i$</label> <label class="option-label"><input type="radio" name="q10" value="0"> $0$ et $1$</label>
                <label class="option-label"><input type="radio" name="q10" value="0"> Impossible dans $\mathbb{R}[X]$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q10')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q11.</b> D√©composition de $X^4+1$ dans $\mathbb{R}[X]$ :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q11" value="0"> Irr√©ductible</label>
                <label class="option-label"><input type="radio" name="q11" value="correct"> $(X^2+\sqrt{2}X+1)(X^2-\sqrt{2}X+1)$</label>
                <label class="option-label"><input type="radio" name="q11" value="0"> $(X^2+1)^2$</label>
                <label class="option-label"><input type="radio" name="q11" value="0"> $(X-1)^2(X+1)^2$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q11')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q12.</b> Relation entre les polyn√¥mes de Tchebychev :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q12" value="correct"> $T_{n+1} = 2XT_n - T_{n-1}$</label>
                <label class="option-label"><input type="radio" name="q12" value="0"> $T_{n+1} = XT_n + T_{n-1}$</label>
                <label class="option-label"><input type="radio" name="q12" value="0"> $T_n = \cos(X)$</label>
                <label class="option-label"><input type="radio" name="q12" value="0"> $T_n' = n T_{n-1}$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q12')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q13.</b> $\deg(P(X+1)-P(X))$ est √©gal √† :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q13" value="0"> $\deg(P)$</label>
                <label class="option-label"><input type="radio" name="q13" value="correct"> $\deg(P)-1$</label>
                <label class="option-label"><input type="radio" name="q13" value="0"> $\deg(P)+1$</label>
                <label class="option-label"><input type="radio" name="q13" value="0"> Ind√©termin√©</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q13')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q14.</b> Th√©or√®me de Lucas : les racines de $P'$ appartiennent √† :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q14" value="0"> $\mathbb{R}$</label>
                <label class="option-label"><input type="radio" name="q14" value="correct"> L'enveloppe convexe des racines de $P$</label>
                <label class="option-label"><input type="radio" name="q14" value="0"> Le cercle unit√©</label>
                <label class="option-label"><input type="radio" name="q14" value="0"> L'ensemble des racines de $P$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q14')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q15.</b> Si $P(X^2) = P(X)^2$, alors $P$ est de la forme :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q15" value="correct"> $X^n$, $0$ ou $1$</label>
                <label class="option-label"><input type="radio" name="q15" value="0"> $X+1$</label>
                <label class="option-label"><input type="radio" name="q15" value="0"> $X^2+X$</label>
                <label class="option-label"><input type="radio" name="q15" value="0"> Tout polyn√¥me pair</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q15')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q16.</b> Si $P$ est scind√© sur $\mathbb{R}$ √† racines simples, alors $P'$ est :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q16" value="correct"> Scind√© sur $\mathbb{R}$ √† racines simples</label>
                <label class="option-label"><input type="radio" name="q16" value="0"> Irr√©ductible</label>
                <label class="option-label"><input type="radio" name="q16" value="0"> Strictement positif</label>
                <label class="option-label"><input type="radio" name="q16" value="0"> De degr√© $n+1$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q16')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q17.</b> Dimension de l'espace vectoriel $\mathbb{K}_n[X]$ :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q17" value="0"> $n$</label>
                <label class="option-label"><input type="radio" name="q17" value="correct"> $n+1$</label>
                <label class="option-label"><input type="radio" name="q17" value="0"> $2n$</label>
                <label class="option-label"><input type="radio" name="q17" value="0"> $1$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q17')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q18.</b> Les polyn√¥mes de Bernstein forment une base de $\mathbb{R}_n[X]$. Ils sont d√©finis par :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q18" value="correct"> $\binom{n}{k} X^k (1-X)^{n-k}$</label>
                <label class="option-label"><input type="radio" name="q18" value="0"> $X^k - (1-X)^k$</label>
                <label class="option-label"><input type="radio" name="q18" value="0"> $\cos(k \arccos X)$</label>
                <label class="option-label"><input type="radio" name="q18" value="0"> $\frac{X^k}{k!}$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q18')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q19.</b> L'ensemble des polyn√¥mes $P$ tels que $P(\mathbb{Q}) \subset \mathbb{Q}$ est :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q19" value="correct"> $\mathbb{Q}[X]$</label>
                <label class="option-label"><input type="radio" name="q19" value="0"> $\mathbb{Z}[X]$</label>
                <label class="option-label"><input type="radio" name="q19" value="0"> $\{0\}$</label>
                <label class="option-label"><input type="radio" name="q19" value="0"> $\mathbb{R}[X]$</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q19')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div class="tcb-box exobox quiz-card">
        <div class="tcb-content">
            <p class="question-text"><b>Q20.</b> L'application $P \mapsto P'$ est un endomorphisme :</p>
            <div class="options">
                <label class="option-label"><input type="radio" name="q20" value="0"> Injectif mais pas surjectif</label>
                <label class="option-label"><input type="radio" name="q20" value="0"> Bijectif</label>
                <label class="option-label"><input type="radio" name="q20" value="correct"> Nilpotent (sur $\mathbb{K}_n[X]$)</label>
                <label class="option-label"><input type="radio" name="q20" value="0"> Identit√©</label>
            </div>
            <button type="button" class="btn-clear" onclick="clearSelection('q20')"><i class="fas fa-eraser"></i> Effacer mon choix</button>
        </div>
    </div>

    <div style="text-align: center; margin: 50px 0;">
        <button type="button" class="btn prestige-btn" onclick="validerQuiz()">
            üöÄ Soumettre et Calculer ma Note
        </button>
    </div>
</form>

<div id="resultat_box" class="tcb-box" style="display:none; border: 4px solid var(--royal-blue); background: #fdfdfd;">
    <div class="tcb-title"><i class="fas fa-certificate"></i> Bilan de Comp√©tences</div>
    <div class="tcb-content" style="text-align: center;">
        <h2 id="nom_final" style="color:var(--navy);">√âtudiant</h2>
        <div id="score_circle" style="font-size: 4em; font-weight: bold; color: var(--royal-blue); margin: 20px 0;">0 / 20</div>
        <p id="message_final" style="font-size: 1.2em; font-style: italic;"></p>
        <button class="btn" style="margin-top:20px;" onclick="window.location.reload()">Recommencer</button>
    </div>
</div>

<style>
    .quiz-card { border-left: 5px solid #ddd; transition: 0.3s; }
    .quiz-card:hover { border-left-color: var(--royal-blue); transform: translateX(5px); }
    .question-text { font-size: 1.15em; font-weight: 600; color: var(--navy); margin-bottom: 15px; }
    .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
    .option-label { background: #f8f9fa; padding: 12px; border-radius: 8px; border: 1px solid #eee; cursor: pointer; display: flex; align-items: center; transition: 0.2s; }
    .option-label:hover { background: #eef4ff; border-color: var(--royal-blue); }
    .option-label input { margin-right: 15px; transform: scale(1.3); }
    .btn-clear { background: none; border: none; color: #888; text-decoration: underline; cursor: pointer; font-size: 0.85em; }
    .btn-clear:hover { color: #d9534f; }
    .prestige-btn { background: linear-gradient(135deg, var(--royal-blue), var(--navy)); color: white; padding: 20px 50px; font-size: 1.5em; border-radius: 50px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
    @media (max-width: 600px) { .options { grid-template-columns: 1fr; } }
</style>

<script>
    function clearSelection(name) {
        const r = document.getElementsByName(name);
        for(let i=0; i<r.length; i++) r[i].checked = false;
    }

    function validerQuiz() {
        const f = document.getElementById('quizForm');
        const nom = document.getElementById('nom_eleve').value || "Candidat";
        let score = 0;

        for(let i=1; i<=20; i++) {
            const q = document.getElementsByName('q'+i);
            for(let j=0; j<q.length; j++) {
                if(q[j].checked && q[j].value === "correct") score++;
            }
        }

        document.getElementById('quizForm').style.display = 'none';
        document.getElementById('resultat_box').style.display = 'block';
        document.getElementById('nom_final').innerText = "F√©licitations, " + nom;
        document.getElementById('score_circle').innerText = score + " / 20";

        let msg = "";
        if(score >= 18) msg = "Excellent ! Niveau Polytechnique / ENS atteint.";
        else if(score >= 14) msg = "Tr√®s bon niveau. Les Mines-Ponts sont √† votre port√©e.";
        else if(score >= 10) msg = "Niveau correct. Revoyez les d√©tails d'analyse polynomiale.";
        else msg = "Attention : Les fondamentaux ne sont pas encore acquis. Reprenez le cours.";
        
        document.getElementById('message_final').innerText = msg;
        window.scrollTo(0, 0);
    }
</script>

<div style="height: 150px;"></div>
